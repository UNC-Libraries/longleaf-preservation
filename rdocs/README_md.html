<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Longleaf">Longleaf</a>
    <li><a href="#label-Installation">Installation</a>
    <li><a href="#label-Usage">Usage</a>
    <li><a href="#label-Register+a+file">Register a file</a>
    <li><a href="#label-Validate+configuration+files">Validate configuration files</a>
    <li><a href="#label-Output+and+logging">Output and logging</a>
    <li><a href="#label-Development">Development</a>
    <li><a href="#label-Contributing">Contributing</a>
    <li><a href="#label-License">License</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./Gemfile.html">Gemfile</a>
  
    <li><a href="./Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="./LICENSE_txt.html">LICENSE</a>
  
    <li><a href="./README_md.html">README</a>
  
    <li><a href="./Rakefile.html">Rakefile</a>
  
    <li><a href="./bin/setup.html">setup</a>
  
    <li><a href="./longleaf_gemspec.html">longleaf.gemspec</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page README.md">

<h1 id="label-Longleaf"><a href="Longleaf.html">Longleaf</a><span><a href="#label-Longleaf">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="Longleaf.html">Longleaf</a> is a command-line tool which allows
users to configure a set of storage locations and define custom sets of
preservation services to run on their contents. These services are executed
in response to applicable preservation events issued by clients. Its
primary goal is to provide tools to create a simple and customizable
preservation environment. Longleaf:</p>
<ul><li>
<p>Offers a predictable command-line interface and integrates with standard
command-line tools.</p>
</li><li>
<p>Offers configurable and customizable criteria based preservation workflows.</p>
</li><li>
<p>Provides a base set of tools and a framework for building extensions.</p>
</li><li>
<p>Provides activity logging and notifications.</p>
</li><li>
<p>Performs preservation services only when required.</p>
</li></ul>

<h2 id="label-Installation">Installation<span><a href="#label-Installation">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Add this line to your application&#39;s Gemfile:</p>

<pre class="ruby"><span class="ruby-identifier">gem</span> <span class="ruby-string">&#39;longleaf&#39;</span>
</pre>

<p>And then execute:</p>

<pre>$ bundle</pre>

<p>Or install it yourself as:</p>

<pre>$ gem install longleaf</pre>

<h2 id="label-Usage">Usage<span><a href="#label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<h4 id="label-Register+a+file">Register a file<span><a href="#label-Register+a+file">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>In order to register a new file with <a href="Longleaf.html">Longleaf</a>,
use the register command: <code>longleaf register -c &lt;config.yml&gt; -f
&lt;path to file&gt;</code></p>

<p>In the case that a file&#39;s content is replaced, the file can be
re-registered by providing the <code>--force</code> flag.</p>

<h4 id="label-Validate+configuration+files">Validate configuration files<span><a href="#label-Validate+configuration+files">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Application configuration files can be validated prior to usage with the
following command: <code>longleaf validate_config -c
&lt;config.yml&gt;</code></p>

<h4 id="label-Output+and+logging">Output and logging<span><a href="#label-Output+and+logging">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>The primary output from <a href="Longleaf.html">Longleaf</a> is directed to
STDOUT, and contains both success and failure messages. If you would like
to only return failure messages, you may provide the
<code>--failure_only</code> flag.</p>

<p>Additional logging is sent to STDERR. To control the level of logging, you
may provide the <code>--log-level</code> parameter, which expects the
standard <a
href="https://ruby-doc.org/stdlib-2.4.0/libdoc/logger/rdoc/Logger.html">Ruby
Logger levels</a>. The default log level is &#39;WARN&#39;.</p>

<p>Messages sent to STDOUT are duplicated to STDERR at &#39;INFO&#39; level,
so they are excluded by default. In order to store an ongoing log of
activity and errors, you would perform the following: <code>longleaf
&lt;command&gt; --log-level &#39;INFO&#39; 2&gt; /logs/longleaf.log</code></p>

<h2 id="label-Development">Development<span><a href="#label-Development">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>After checking out the repo, run <code>bin/setup</code> to install
dependencies. Then, run <code>bundle exec rspec</code> to run the tests.
You can also run <code>bin/console</code> for an interactive prompt that
will allow you to experiment.</p>

<p>To run <a href="Longleaf.html">Longleaf</a> with local changes without
needing to do a local install, you may run <code>bundle exec exe/longleaf
&lt;command&gt;</code>.</p>

<p>To install this gem onto your local machine, run <code>bundle exec rake
install</code>. This will allow you to run <code>longleaf
&lt;command&gt;</code> and places the gem into <code>pkg/</code>. Note:
Only files committed to git will be included in the installed gem.</p>

<p>To release a new version, update the version number in
<code>version.rb</code>, and then run <code>bundle exec rake
release</code>, which will create a git tag for the version, push git
commits and tags, and push the <code>.gem</code> file to <a
href="https://rubygems.org">rubygems.org</a>.</p>

<h2 id="label-Contributing">Contributing<span><a href="#label-Contributing">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Bug reports and pull requests are welcome on GitHub at <a
href="https://gitlab.lib.unc.edu/cdr/longleaf">gitlab.lib.unc.edu/cdr/longleaf</a>.</p>

<h2 id="label-License">License<span><a href="#label-License">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The gem is available as open source under the terms of the <a
href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

