<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="longleaf">Longleaf</h1>
<p>Longleaf is a command-line tool which allows users to configure a set of storage locations and define custom sets of preservation services to run on their contents. These services are executed in response to applicable preservation events issued by clients. Its primary goal is to provide tools to create a simple and customizable preservation environment.  Longleaf:</p>

<ul>
  <li>Offers a predictable command-line interface and integrates with standard command-line tools.</li>
  <li>Offers configurable and customizable criteria based preservation workflows.</li>
  <li>Provides a base set of tools and a framework for building extensions.</li>
  <li>Provides activity logging and notifications.</li>
  <li>Performs preservation services only when required.</li>
</ul>

<h2 id="installation">Installation</h2>

<p>Add this line to your application’s Gemfile:</p>

<p><code>ruby
gem 'longleaf'
</code></p>

<p>And then execute:</p>

<pre class="code ruby"><code class="ruby">$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre class="code ruby"><code class="ruby">$ gem install longleaf
</code></pre>

<h2 id="usage">Usage</h2>

<h4 id="register-a-file">Register a file</h4>
<p>In order to register a new file with Longleaf, use the register command:
<code>longleaf register -c &lt;config.yml&gt; -f &lt;path to file&gt;</code></p>

<p>In the case that a file’s content is replaced, the file can be re-registered by providing the <code>--force</code> flag.</p>

<h4 id="validate-configuration-files">Validate configuration files</h4>
<p>Application configuration files can be validated prior to usage with the following command:
<code>longleaf validate_config -c &lt;config.yml&gt;</code></p>

<h4 id="output-and-logging">Output and logging</h4>

<p>The primary output from Longleaf is directed to STDOUT, and contains both success and failure messages. If you would like to only return failure messages, you may provide the <code>--failure_only</code> flag.</p>

<p>Additional logging is sent to STDERR. To control the level of logging, you may provide the <code>--log-level</code> parameter, which expects the standard <a href="https://ruby-doc.org/stdlib-2.4.0/libdoc/logger/rdoc/Logger.html">Ruby Logger levels</a>. The default log level is ‘WARN’.</p>

<p>Messages sent to STDOUT are duplicated to STDERR at ‘INFO’ level, so they are excluded by default. In order to store an ongoing log of activity and errors, you would perform the following:
<code>longleaf &lt;command&gt; --log-level 'INFO' 2&gt; /logs/longleaf.log</code></p>

<h2 id="development">Development</h2>

<p>After checking out the repo, run <code>bin/setup</code> to install dependencies. Then, run <code>bundle exec rspec</code> to run the tests. You can also run <code>bin/console</code> for an interactive prompt that will allow you to experiment.</p>

<p>To run Longleaf with local changes without needing to do a local install, you may run <code>bundle exec exe/longleaf &lt;command&gt;</code>.</p>

<p>To install this gem onto your local machine, run <code>bundle exec rake install</code>. This will allow you to run <code>longleaf &lt;command&gt;</code> and places the gem into <code>pkg/</code>. Note: Only files committed to git will be included in the installed gem.</p>

<p>To release a new version, update the version number in <code>version.rb</code>, and then run <code>bundle exec rake release</code>, which will create a git tag for the version, push git commits and tags, and push the <code>.gem</code> file to <a href="https://rubygems.org">rubygems.org</a>.</p>

<h2 id="indexing">Indexing</h2>
<p>To use an index to improve performance, you will need to bundle longleaf with the driver you wish to use:
<code>bundle install --with postgres</code></p>

<p>Options include: postgres, mysql2, mysql, sqlite, amalgalite</p>

<h2 id="contributing">Contributing</h2>

<p>Bug reports and pull requests are welcome on GitHub at https://gitlab.lib.unc.edu/cdr/longleaf.</p>

<h2 id="license">License</h2>

<p>The gem is available as open source under the terms of the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.</p>
</div></div>

      <div id="footer">
  Generated on Thu May 23 09:26:36 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.4.1).
</div>

    </div>
  </body>
</html>