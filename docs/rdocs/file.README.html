<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-Longleaf">Longleaf</h1>

<p>Longleaf is a command-line tool which allows users to configure a set of
storage locations and define custom sets of preservation services to run on
their contents. These services are executed in response to applicable
preservation events issued by clients. Its primary goal is to provide tools
to create a simple and customizable preservation environment. Longleaf:</p>
<ul><li>
<p>Offers a predictable command-line interface and integrates with standard
command-line tools.</p>
</li><li>
<p>Offers configurable and customizable criteria based preservation workflows.</p>
</li><li>
<p>Provides a base set of tools and a framework for building extensions.</p>
</li><li>
<p>Provides activity logging and notifications.</p>
</li><li>
<p>Performs preservation services only when required.</p>
</li></ul>

<h2 id="label-Installation">Installation</h2>

<p>There are two primary ways to install Longleaf, depending on how you intend
to use it:</p>

<h4 id="label-Standalone+gem">Standalone gem</h4>

<p>To use Longleaf as a command-line application, the gem can be installed
using:</p>

<pre class="code ruby"><code class="ruby">$ gem install longleaf</code></pre>

<p>Or it may be built from source:</p>

<pre class="code ruby"><code class="ruby">$ git clone git@github.com:UNC-Libraries/longleaf-preservation.git
$ cd longleaf-preservation
$ bin/setup
$ bundle exec rake install # builds the gem
$ gem install --local pkg/longleaf* # installs gem</code></pre>

<h4 id="label-Applicaton+dependency">Applicaton dependency</h4>

<p>To make use of longleaf as a dependency of your application, add this line
to your application&#39;s Gemfile:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>longleaf</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<p>And then execute:</p>

<pre class="code ruby"><code class="ruby">$ bundle</code></pre>

<h2 id="label-Usage">Usage</h2>

<h4 id="label-Register+a+file">Register a file</h4>

<p>In order to register a new file with Longleaf, use the register command:
<code>longleaf register -c &lt;config.yml&gt; -f &lt;path to
file&gt;</code></p>

<p>In the case that a file&#39;s content is replaced, the file can be
re-registered by providing the <code>--force</code> flag.</p>

<h4 id="label-Validate+configuration+files">Validate configuration files</h4>

<p>Application configuration files can be validated prior to usage with the
following command: <code>longleaf validate_config -c
&lt;config.yml&gt;</code></p>

<h4 id="label-Output+and+logging">Output and logging</h4>

<p>The primary output from Longleaf is directed to STDOUT, and contains both
success and failure messages. If you would like to only return failure
messages, you may provide the <code>--failure_only</code> flag.</p>

<p>Additional logging is sent to STDERR. To control the level of logging, you
may provide the <code>--log-level</code> parameter, which expects the
standard <a
href="https://ruby-doc.org/stdlib-2.4.0/libdoc/logger/rdoc/Logger.html">Ruby
Logger levels</a>. The default log level is &#39;WARN&#39;.</p>

<p>Messages sent to STDOUT are duplicated to STDERR at &#39;INFO&#39; level,
so they are excluded by default. In order to store an ongoing log of
activity and errors, you would perform the following: <code>longleaf
&lt;command&gt; --log-level &#39;INFO&#39; 2&gt; /logs/longleaf.log</code></p>

<h2 id="label-Development">Development</h2>

<p>After checking out the repo, run <code>bin/setup</code> to install
dependencies.</p>

<p>To perform the tests, run: <code> bundle exec rspec </code></p>

<p>To run Longleaf with local changes without needing to do a local install,
you may run: <code> bundle exec exe/longleaf &lt;command&gt; </code></p>

<p>To install this gem onto your local machine, run: <code> bundle exec rake
install </code></p>

<p>This places a newly built gem into the <code>pkg/</code> directory. This
gem may then be installed in order to run commands in the <code>longleaf
&lt;command&gt;</code> form. <em>Note:</em> Only files committed to git
will be included in the installed gem.</p>

<p>To release a new version, update the version number in
<code>version.rb</code>, and then run <code>bundle exec rake
release</code>, which will create a git tag for the version, push git
commits and tags, and push the <code>.gem</code> file to <a
href="https://rubygems.org">rubygems.org</a>.</p>

<h2 id="label-Indexing">Indexing</h2>

<p>To use an index to improve performance, you will need to install the
database drivers separately or bundle longleaf with the driver you wish to
use: <code>bundle install --with postgres</code></p>

<p>Options include: postgres, mysql2, mysql, sqlite, amalgalite</p>

<h2 id="label-Contributing">Contributing</h2>

<p>Bug reports and pull requests are welcome on GitHub at <a
href="https://github.com/UNC-Libraries/longleaf-preservation">github.com/UNC-Libraries/longleaf-preservation</a>.</p>

<h2 id="label-License">License</h2>

<p>The gem is available as open source under the terms of the <a
href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.</p>
</div></div>

      <div id="footer">
  Generated on Fri May 24 11:53:21 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.4.1).
</div>

    </div>
  </body>
</html>